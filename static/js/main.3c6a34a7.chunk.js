(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[0],[,,,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,function(e,t,n){"use strict";n.r(t);var c=n(0),o=n(4),r=n.n(o),i=(n(17),n(2)),s=Object(c.createContext)({todoList:[],show:"ALL",clearCompleted:function(){},toggleTodoCompleted:function(e){},deleteTodo:function(e){},setShow:function(e){},addTodo:function(e){},reorderList:function(e){}}),a=(n(18),n.p+"static/media/icon-moon.6c03114b.svg"),l=n.p+"static/media/icon-sun.910b1f9a.svg",d=(n(19),n(20),n.p+"static/media/icon-check.a8fb15d0.svg"),u=n(1);var j=function(e){return Object(u.jsx)("button",{type:"button",className:"checkbox ".concat(e.checked&&"checked"),onClick:e.checkboxHandler,children:e.checked&&Object(u.jsx)("img",{src:d,alt:"Checked"})})};function b(e){var t=Object(c.useState)(!1),n=Object(i.a)(t,2),o=n[0],r=n[1],a=Object(c.useState)(!1),l=Object(i.a)(a,2),d=l[0],b=l[1],f=Object(c.useState)(""),m=Object(i.a)(f,2),h=m[0],O=m[1],p=Object(c.useContext)(s);return Object(u.jsxs)("form",{className:"todo_form ".concat(d&&"invalid"),onSubmit:function(e){if(e.preventDefault(),""===h)return b(!0);p.addTodo({content:h,isCompleted:o}),b(!1),O("")},children:[Object(u.jsx)(j,{checked:o,checkboxHandler:function(){return r((function(e){return!e}))}}),Object(u.jsx)("input",{type:"text",placeholder:"Create a new todo...",maxLength:"60",value:h,onChange:function(e){return O(e.target.value)}})]})}var f=Object(c.memo)(b),m=n(3),h=n(6);n(22),n(23);var O=function(e){return console.log(e.qty),Object(u.jsxs)("footer",{className:"all_todo__footer",children:[Object(u.jsxs)("p",{children:[e.qty," items left"]}),Object(u.jsxs)("nav",{children:[Object(u.jsx)("button",{className:"nav_button ".concat("ALL"===e.show&&"active"),onClick:e.showAll,children:"All"}),Object(u.jsx)("button",{className:"nav_button ".concat("ACTIVE"===e.show&&"active"),onClick:e.showActive,children:"Active"}),Object(u.jsx)("button",{className:"nav_button ".concat("COMPLETED"===e.show&&"active"),onClick:e.showCompleted,children:"Completed"})]}),Object(u.jsx)("button",{className:"clear_button",onClick:e.clearCompleted,children:"Clear Completed"})]})},p=(n(24),n.p+"static/media/icon-cross.6ee81d30.svg");var x=function(e){var t=Object(c.useContext)(s),n=function(){return t.toggleTodoCompleted(e.id)};return Object(u.jsx)(h.b,{draggableId:e.id,index:e.index,children:function(c,o){return Object(u.jsxs)("li",Object(m.a)(Object(m.a)(Object(m.a)({className:"todo_item ".concat(o.isDragging&&"dragging")},c.draggableProps),c.dragHandleProps),{},{ref:c.innerRef,children:[Object(u.jsxs)("div",{className:"todo ".concat(e.isCompleted&&"completed"),children:[Object(u.jsx)(j,{checked:e.isCompleted,checkboxHandler:n}),Object(u.jsx)("h1",{onClick:n,children:e.content})]}),Object(u.jsx)("button",{className:"delete_todo",onClick:t.deleteTodo.bind(null,e.id),children:Object(u.jsx)("img",{src:p,alt:"Delete"})})]}))}},e.id)};function C(e){var t=Object(c.useContext)(s),n=t.todoList;return"ALL"!==t.show&&(n=n.filter((function(e){return"ACTIVE"===t.show?!e.isCompleted:e.isCompleted}))),0===t.todoList.length?Object(u.jsx)("h1",{className:"empty_list",children:"Empty List"}):Object(u.jsxs)("section",{className:"all_todo",children:[Object(u.jsx)(h.a,{onDragEnd:t.reorderList,children:Object(u.jsx)(h.c,{droppableId:"todo-list",children:function(e){return Object(u.jsxs)("ul",Object(m.a)(Object(m.a)({},e.droppableProps),{},{ref:e.innerRef,children:[n.map((function(e,t){return Object(u.jsx)(x,{content:e.content,id:e.id,isCompleted:e.isCompleted,index:t},e.id)})),e.placeholder]}))}})}),Object(u.jsx)(O,{qty:t.todoList.filter((function(e){return!e.isCompleted})).length,show:t.show,showAll:t.setShow.bind(null,"ALL"),showActive:t.setShow.bind(null,"ACTIVE"),showCompleted:t.setShow.bind(null,"COMPLETED"),clearCompleted:t.clearCompleted})]})}var g=Object(c.memo)(C),v=localStorage.getItem("isDark");var L=function(){var e=Object(c.useState)(v),t=Object(i.a)(e,2),n=t[0],o=t[1],r=Object(c.useContext)(s);return Object(c.useEffect)((function(){n?(document.body.classList.add("dark"),localStorage.setItem("isDark",!0)):(document.body.classList.remove("dark"),localStorage.removeItem("isDark"))}),[n]),Object(u.jsxs)("div",{className:"container",children:[Object(u.jsxs)("header",{children:[Object(u.jsx)("h1",{children:"TODO"}),Object(u.jsx)("button",{className:"theme_toggle",onClick:function(){return o((function(e){return!e}))},children:Object(u.jsx)("img",{src:n?l:a,alt:"Change Theme"})})]}),Object(u.jsx)(f,{}),Object(u.jsx)(g,{}),0!==r.todoList.length&&Object(u.jsx)("p",{className:"info",children:"Drag and drop to reorder list"})]})},k=n(12),w=n(11),S=n.n(w),N=S.a.mark(A),T=JSON.parse(localStorage.getItem("todoList"));function A(){var e;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=T?T.length+1:1;case 1:return t.next=4,"todo-".concat(e);case 4:e++,t.next=1;break;case 7:case"end":return t.stop()}}),N)}var E=A();var _=function(e){var t=Object(c.useState)(T||[]),n=Object(i.a)(t,2),o=n[0],r=n[1],a=Object(c.useState)("ALL"),l=Object(i.a)(a,2),d=l[0],j=l[1];Object(c.useEffect)((function(){localStorage.removeItem("todoList"),o.length>0&&localStorage.setItem("todoList",JSON.stringify(o))}),[o]);var b={todoList:o,show:d,clearCompleted:function(){return r((function(e){return e.filter((function(e){return!e.isCompleted}))}))},toggleTodoCompleted:function(e){r((function(t){return t.map((function(t){return t.id===e&&(t.isCompleted=!t.isCompleted),t}))}))},setShow:function(e){return j(e)},addTodo:function(e){return r((function(t){return[].concat(Object(k.a)(t),[Object(m.a)(Object(m.a)({},e),{},{id:E.next().value})])}))},deleteTodo:function(e){return r((function(t){return t.filter((function(t){return t.id!==e}))}))},reorderList:function(e){var t=e.destination,n=e.source;t&&r((function(e){return function(e,t,n,c){var o=Object(k.a)(e);if("ALL"===t){var r=o.splice(c,1),s=Object(i.a)(r,1)[0];o.splice(n,0,s)}else{var a=e.filter((function(e){return"COMPLETED"===t?e.isCompleted:!e.isCompleted})),l=a.map((function(t){return e.indexOf(t)})),d=a.splice(c,1),u=Object(i.a)(d,1)[0];a.splice(n,0,u),l.forEach((function(e,t){return o.splice(e,1,a[t])}))}return o}(e,d,t.index,n.index)}))}};return Object(u.jsx)(s.Provider,{value:b,children:e.children})};r.a.render(Object(u.jsx)(_,{children:Object(u.jsx)(L,{})}),document.getElementById("root"))}],[[30,1,2]]]);
//# sourceMappingURL=main.3c6a34a7.chunk.js.map